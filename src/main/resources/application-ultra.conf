# Configura√ß√£o ULTRA-OTIMIZADA para simula√ß√µes grandes
# ZERO snapshots, In-Memory Journal, M√°xima Performance

include "application.conf"

pekko {
    persistence {
      journal {
        plugin = "pekko.persistence.journal.inmem"
        auto-start-journals = ["pekko.persistence.journal.inmem"]
      }
      # üö´ SEM SNAPSHOT STORE - Performance m√°xima
      snapshot-store {
        plugin = "pekko.persistence.snapshot-store.local"
        auto-start-snapshot-stores = ["pekko.persistence.snapshot-store.local"]
      }
    }
}

# üö´ DESABILITAR SNAPSHOTS COMPLETAMENTE
pekko.persistence.snapshot-store.local {
    dir = "/dev/null"  # Descartar snapshots
}

# In-Memory Journal otimizado
pekko.persistence.journal.inmem {
    # Configura√ß√µes otimizadas
    max-message-batch-size = 500
}

# üöÄ OTIMIZA√á√ïES M√ÅXIMAS DE PERFORMANCE
pekko.actor {
    default-dispatcher {
        type = Dispatcher
        executor = "fork-join-executor"
        fork-join-executor {
            parallelism-min = 32    # Mais threads
            parallelism-factor = 3.0 # Mais agressivo
            parallelism-max = 128   # Limite maior
        }
        throughput = 200  # Processar mais mensagens por batch
    }
}

# üõë CONFIGURA√á√ïES PARA EVITAR SNAPSHOTS
pekko.persistence {
    # Nunca fazer snapshots autom√°ticos
    snapshot-store.local.snapshot-interval = 999999999
    
    # Journal otimizado
    journal.inmem {
        max-message-batch-size = 1000
    }
}