version: '3.8'
services:
  node1:
    build: .
    container_name: node_1
    ports:
      - '1600:1600'
      - "2551:2551"
      - "8558:8558"
    environment:
      CLUSTER_PORT: 1600
      CLUSTER_IP: node1
      CLUSTER_NAME: node1
      SEED_PORT_1600_TCP_ADDR: node1
    networks:
      - hyperbolic-time-chamber-network

  node2:
    build: .
    container_name: node_2
    ports:
      - '1601:1601'
      - "2552:2551"
      - "8559:8558"
    environment:
      CLUSTER_PORT: 1601
      CLUSTER_IP: node2
      CLUSTER_NAME: node2
      SEED_PORT_1600_TCP_ADDR: node1
    networks:
      - hyperbolic-time-chamber-network

networks:
  hyperbolic-time-chamber-network:
    driver: bridge
